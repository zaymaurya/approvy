<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
    <table cellpadding="0" cellspacing="0" width="100%">
      <tr>
        <td width="100%" style="background: #eee; border-radius: 3px;">
          <? if (status === rejected ) { ?>
          <h1 style="border-radius: 3px 3px 0px 0px; background: #EA4335; color: #fff; text-align: center; padding: 24px 0px; margin: 0px;"><?= title ?></h1>
          <? } else { ?>
          <h1 style="border-radius: 3px 3px 0px 0px; background: #34A853; color: #fff; text-align: center; padding: 24px 0px; margin: 0px;"><?= title ?></h1>
          <? } ?>
          <div style="padding: 0px 24px;">
            <p>Your approval request has been <?= status === pending ? 'submitted' : status.toLowerCase() ?>.</p>

            <table style="width: 100%; margin: 13px 0px; border-collapse: collapse; border-radius: 3px; overflow: hidden;">
              <? task.forEach((item, i) => { ?>
                  <tr>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.label ?></td>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.value ?></td>
                  </tr>
              <? }) ?>
            </table>
            
            <p>Approval details</p>
            <table style="width: 100%; margin: 13px 0px; border-collapse: collapse; border-radius: 3px; overflow: hidden;">
                <tr>
                  <td style="padding: 6px 12px; border: 1px solid #333;">Approver</td>
                  <td style="padding: 6px 12px; border: 1px solid #333;">Title</td>
                  <td style="padding: 6px 12px; border: 1px solid #333;">Status</td>
                  <td style="padding: 6px 12px; border: 1px solid #333;">Comments</td>
                  <td style="padding: 6px 12px; border: 1px solid #333;">Timestamp</td>
                </tr>
              <? approvers.forEach((item, i) => { ?>
                  <tr>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.name ?></td>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.title ?></td>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.status ?></td>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= item.comments ?></td>
                    <? if (item.timestamp) { ?>
                    <td style="padding: 6px 12px; border: 1px solid #333;"><?= new Date(item.timestamp).toLocaleString() ?></td>
                    <? } else { ?>
                    <td style="padding: 6px 12px; border: 1px solid #333;"></td>
                    <? } ?>
                  </tr>
              <? }) ?>
            </table>

            <table style="width: 100%;" cellpadding="0" cellspacing="0">
                <tr>
                  <td style="text-align: left;">
                    <? if (status === rejected ) { ?>
                      <a 
                        href="<?= approvalProgressUrl ?>"
                        target="_blank"
                        style="border-radius: 3px; border: none; display: inline-block; text-decoration: none; padding: 12px 24px; background: #EA4335; color: #fff;">
                        Check Approval Progress</a>
                    <? } else { ?>
                        <a 
                        href="<?= approvalProgressUrl ?>"
                        target="_blank"
                        style="border-radius: 3px; border: none; display: inline-block; text-decoration: none; padding: 12px 24px; background: #34A853; color: #fff;">
                        Check Approval Progress</a>
                    <? } ?>
                  </td>
                </tr>
              </table>

            <p>Google Form Approval</p>
            <p>
              <small style="color: #333;"><a href="<?= formUrl ?>">Submit another request</a></small><br>
              <small style="color: #333;">Created by J</a></small>
            </p>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
